<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>精神电量漏电检测局</title>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" defer></script>
  <style>
    :root {
      --bg-main: #070b14;
      --bg-surface: rgba(11, 20, 36, 0.88);
      --line: rgba(104, 215, 255, 0.34);
      --text-main: #eaf7ff;
      --text-muted: #8ea8ba;
      --cyan: #6ee7ff;
      --cyan-strong: #27d8ff;
      --amber: #ffd166;
      --danger: #ff6b6b;
      --shadow-cyan: 0 0 18px rgba(39, 216, 255, 0.34);
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html, body {
      margin: 0;
      min-height: 100%;
      color: var(--text-main);
      font-family: "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif;
      background:
        radial-gradient(circle at 18% 12%, rgba(39, 216, 255, 0.18), transparent 38%),
        radial-gradient(circle at 82% 84%, rgba(255, 209, 102, 0.12), transparent 30%),
        linear-gradient(160deg, #05090f 0%, #0b1424 42%, #0a101c 100%);
    }

    body {
      display: grid;
      place-items: center;
      padding: 16px 12px 24px;
    }

    #app {
      width: 100%;
      max-width: 28rem;
    }

    .shell {
      position: relative;
      border: 1px solid var(--line);
      border-radius: 20px;
      padding: 18px 16px;
      background: var(--bg-surface);
      box-shadow: var(--shadow-cyan);
      backdrop-filter: blur(7px);
      overflow: hidden;
    }

    .shell::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background-image: linear-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px);
      background-size: 100% 8px;
      opacity: 0.14;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
      padding: 5px 10px;
      font-size: 12px;
      color: var(--cyan);
      border: 1px solid rgba(110, 231, 255, 0.4);
      border-radius: 999px;
      letter-spacing: 0.4px;
      background: rgba(10, 28, 44, 0.6);
    }

    h1, h2, h3, p {
      margin: 0;
    }

    .title {
      font-size: 30px;
      line-height: 1.15;
      font-weight: 800;
      text-shadow:
        0 0 18px rgba(110, 231, 255, 0.46),
        0 0 2px rgba(255, 255, 255, 0.6);
    }

    .subtitle {
      margin-top: 12px;
      color: var(--text-muted);
      font-size: 14px;
      line-height: 1.65;
    }

    .primary-btn,
    .secondary-btn {
      width: 100%;
      border: 0;
      border-radius: 14px;
      padding: 13px 14px;
      font-size: 15px;
      font-weight: 700;
      color: #00121d;
      cursor: pointer;
      transition: transform 0.2s ease, filter 0.2s ease, box-shadow 0.2s ease;
    }

    .primary-btn {
      margin-top: 20px;
      background: linear-gradient(120deg, #6ee7ff 0%, #27d8ff 100%);
      box-shadow: 0 10px 22px rgba(39, 216, 255, 0.32);
    }

    .secondary-btn {
      margin-top: 10px;
      color: #11131c;
      background: linear-gradient(120deg, #ffd166 0%, #ffbc4d 100%);
      box-shadow: 0 8px 20px rgba(255, 209, 102, 0.3);
    }

    .primary-btn:active,
    .secondary-btn:active {
      transform: scale(0.98);
      filter: brightness(0.95);
    }

    .quiz-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
      color: var(--text-muted);
      font-size: 13px;
    }

    .progress-track {
      margin-bottom: 14px;
      height: 8px;
      border-radius: 999px;
      background: rgba(100, 132, 155, 0.2);
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, #6ee7ff 0%, #27d8ff 100%);
      transition: width 0.25s ease-out;
    }

    .question-card {
      padding: 14px;
      border-radius: 14px;
      border: 1px solid rgba(104, 215, 255, 0.28);
      background: rgba(9, 18, 32, 0.72);
      font-size: 17px;
      line-height: 1.45;
      margin-bottom: 12px;
    }

    .options {
      display: grid;
      gap: 10px;
    }

    .option-btn {
      width: 100%;
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 10px;
      align-items: start;
      text-align: left;
      border: 1px solid rgba(142, 168, 186, 0.28);
      border-radius: 12px;
      background: rgba(7, 12, 21, 0.78);
      color: var(--text-main);
      padding: 11px 12px;
      font-size: 14px;
      line-height: 1.5;
      cursor: pointer;
      transition: transform 0.18s ease, border-color 0.18s ease, background-color 0.18s ease;
    }

    .option-btn:active {
      transform: scale(0.985);
    }

    .option-btn.is-selected {
      transform: scale(0.985);
      border-color: rgba(110, 231, 255, 0.75);
      background: rgba(26, 65, 86, 0.64);
      box-shadow: 0 0 0 1px rgba(110, 231, 255, 0.18) inset, 0 0 14px rgba(39, 216, 255, 0.2);
    }

    .option-tag {
      min-width: 28px;
      height: 28px;
      border-radius: 8px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #001521;
      background: linear-gradient(120deg, #6ee7ff 0%, #27d8ff 100%);
      font-weight: 800;
      font-size: 13px;
      margin-top: 2px;
    }

    .loading-wrap {
      text-align: center;
      padding: 28px 6px 24px;
    }

    .scanner {
      height: 52px;
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      align-items: end;
      gap: 6px;
      margin-bottom: 14px;
    }

    .scanner span {
      height: 14px;
      border-radius: 5px 5px 0 0;
      background: linear-gradient(180deg, #6ee7ff 0%, #1a526f 100%);
      animation: pulse 1s infinite ease-in-out;
    }

    .scanner span:nth-child(2) { animation-delay: 0.12s; }
    .scanner span:nth-child(3) { animation-delay: 0.24s; }
    .scanner span:nth-child(4) { animation-delay: 0.36s; }
    .scanner span:nth-child(5) { animation-delay: 0.48s; }

    @keyframes pulse {
      0%, 100% { height: 14px; opacity: 0.45; }
      50% { height: 48px; opacity: 1; }
    }

    .loading-text {
      font-size: 16px;
      color: var(--cyan);
      letter-spacing: 0.5px;
    }

    .result-card {
      border-radius: 16px;
      border: 1px solid rgba(104, 215, 255, 0.4);
      padding: 14px;
      background:
        radial-gradient(circle at 20% 8%, rgba(110, 231, 255, 0.12), transparent 40%),
        rgba(5, 13, 24, 0.9);
      box-shadow: 0 0 20px rgba(39, 216, 255, 0.2) inset;
    }

    .result-title {
      font-size: 22px;
      line-height: 1.3;
      margin-top: 6px;
      margin-bottom: 6px;
    }

    .result-subtitle {
      color: var(--cyan);
      font-size: 14px;
      margin-bottom: 12px;
    }

    .result-desc {
      color: #d6e8f3;
      font-size: 14px;
      line-height: 1.7;
    }

    .comfort {
      margin-top: 10px;
      padding: 10px;
      border-radius: 10px;
      font-size: 13px;
      line-height: 1.65;
      color: #c8d8e1;
      background: rgba(12, 28, 44, 0.72);
      border: 1px dashed rgba(142, 168, 186, 0.35);
    }

    .score-grid {
      margin-top: 12px;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }

    .score-chip {
      text-align: center;
      padding: 8px 4px;
      border-radius: 10px;
      border: 1px solid rgba(104, 215, 255, 0.28);
      background: rgba(8, 18, 32, 0.78);
      font-size: 12px;
      color: var(--text-muted);
    }

    .score-chip b {
      display: block;
      margin-top: 2px;
      color: var(--text-main);
      font-size: 17px;
    }

    .weak-note {
      margin-top: 9px;
      color: #9cb2c3;
      font-size: 12px;
      letter-spacing: 0.2px;
      text-align: center;
    }

    .capture-status {
      margin-top: 10px;
      min-height: 40px;
      border-radius: 10px;
      border: 1px solid rgba(104, 215, 255, 0.26);
      padding: 9px 10px;
      font-size: 12px;
      line-height: 1.5;
      color: #c9dae6;
      background: rgba(8, 16, 28, 0.8);
    }

    .capture-status.success {
      border-color: rgba(110, 231, 255, 0.56);
      color: #d4f4ff;
    }

    .capture-status.failed {
      border-color: rgba(255, 107, 107, 0.5);
      color: #ffe0e0;
    }

    .preview-wrap {
      margin-top: 10px;
      border: 1px solid rgba(142, 168, 186, 0.3);
      border-radius: 10px;
      overflow: hidden;
    }

    .preview-wrap img {
      display: block;
      width: 100%;
      height: auto;
    }

    .minor-btn {
      margin-top: 10px;
      width: 100%;
      border: 1px solid rgba(142, 168, 186, 0.38);
      border-radius: 12px;
      background: rgba(8, 15, 27, 0.82);
      color: var(--text-main);
      padding: 10px 12px;
      font-size: 14px;
      cursor: pointer;
      transition: border-color 0.2s ease, transform 0.2s ease;
    }

    .minor-btn:active {
      transform: scale(0.985);
      border-color: rgba(110, 231, 255, 0.65);
    }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
      background: rgba(4, 8, 16, 0.7);
      z-index: 50;
    }

    .modal.is-open {
      display: flex;
    }

    .modal-panel {
      width: min(24rem, 100%);
      border-radius: 16px;
      border: 1px solid rgba(104, 215, 255, 0.45);
      background: linear-gradient(170deg, #0b1528 0%, #101a31 100%);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
      padding: 16px;
    }

    .modal-title {
      font-size: 18px;
      margin-bottom: 12px;
      color: var(--cyan);
    }

    .qr-placeholder {
      width: 184px;
      height: 184px;
      margin: 0 auto;
      border-radius: 10px;
      background:
        linear-gradient(90deg, #fff 16px, #111 16px, #111 24px, #fff 24px, #fff 40px, #111 40px, #111 48px, #fff 48px),
        linear-gradient(#fff 16px, #111 16px, #111 24px, #fff 24px, #fff 40px, #111 40px, #111 48px, #fff 48px);
      background-size: 56px 56px;
      border: 8px solid #f2f7fa;
    }

    .modal-copy {
      margin-top: 12px;
      color: #d8e7f2;
      font-size: 13px;
      line-height: 1.7;
      text-align: center;
    }

    .modal-close {
      margin-top: 12px;
      width: 100%;
      border: 0;
      border-radius: 10px;
      padding: 10px 12px;
      font-size: 14px;
      font-weight: 700;
      color: #001722;
      background: linear-gradient(120deg, #6ee7ff 0%, #27d8ff 100%);
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="app"></div>
  <script src="./app.js" defer></script>
</body>
</html>
